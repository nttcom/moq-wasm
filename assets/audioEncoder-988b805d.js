(function(){"use strict";let n;const i={codec:"opus",sampleRate:48e3,numberOfChannels:1,bitrate:64e3};function c(a,e){}async function r(){const a={output:c,error:o=>{console.log(o.message)}},e=new AudioEncoder(a);return e.configure(i),e}async function s(a){n||(n=await r());const e=a.getReader();for(;;){const o=await e.read();if(o.done)break;const t=o.value;n.encode(t),t.close()}}self.onmessage=async a=>{const e=a.data.audioStream;if(!e){console.error("MediaStreamTrack が渡されていません");return}await s(e)}})();
