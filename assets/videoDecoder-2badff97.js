(function(){"use strict";function n(e){self.postMessage({frame:e}),e.close()}let o;const d={codec:"avc1.640028",avc:{format:"annexb"},hardwareAcceleration:"prefer-hardware",width:1920,height:1080,scalabilityMode:"L1T1"};async function r(){const e={output:n,error:c=>{console.log(c.message),o=void 0}},a=new VideoDecoder(e);return await a.configure(d),a}self.onmessage=async e=>{const a={objectId:e.data.subgroupStreamObject.object_id,objectPayloadLength:e.data.subgroupStreamObject.object_payload_length,objectPayload:e.data.subgroupStreamObject.object_payload,objectStatus:e.data.subgroupStreamObject.object_status},c=new Uint8Array(a.objectPayload),s=new TextDecoder().decode(c),t=JSON.parse(s),i=new EncodedVideoChunk({type:t.chunk.type,timestamp:t.chunk.timestamp,duration:t.chunk.duration,data:new Uint8Array(t.chunk.data)});!o&&(o=await r(),t.chunk.type!=="key")||await o.decode(i)}})();
