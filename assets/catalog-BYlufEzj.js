const A="catalog",h="audio",d="avc1.640032",b=[{trackName:"video_1080p",label:"1080p",codec:d,width:1920,height:1080},{trackName:"video_720p",label:"720p",codec:d,width:1280,height:720},{trackName:"video_480p",label:"480p",codec:d,width:854,height:480}],u=[{trackName:"audio_128kbps",label:"audio 128kbps",codec:"opus",sampleRate:48e3,channels:1,bitrate:128e3},{trackName:"audio_64kbps",label:"audio 64kbps",codec:"opus",sampleRate:48e3,channels:1,bitrate:64e3},{trackName:"audio_32kbps",label:"audio 32kbps",codec:"opus",sampleRate:48e3,channels:1,bitrate:32e3}];function _(e){const n=e.length>0?e.join("/"):void 0,c=b.map(t=>({namespace:n,name:t.trackName,packaging:"loc",role:"video",isLive:!0,label:t.label,codec:t.codec,width:t.width,height:t.height})),o=u.map(t=>({namespace:n,name:t.trackName,packaging:"loc",role:"audio",isLive:!0,label:t.label,codec:t.codec,bitrate:t.bitrate,samplerate:t.sampleRate,channelConfig:t.channels===1?"mono":`${t.channels}ch`})),a=[...c,...o],i={version:1,generatedAt:Date.now(),isComplete:!0,tracks:a};return JSON.stringify(i)}function l(e,n){return(Array.isArray(e?.tracks)?e.tracks??[]:[]).reduce((o,a)=>{if(!m(a))return o;const i=s(a.name);if(!i)return o;const t=s(a.role);return g(n,t,i)&&o.push({name:i,label:s(a.label)??i,role:t,codec:s(a.codec),bitrate:r(a.bitrate),samplerate:r(a.samplerate),channelConfig:s(a.channelConfig),width:r(a.width),height:r(a.height)}),o},[])}function k(e){return l(e,"video")}function f(e){return l(e,"audio")}function m(e){return typeof e=="object"&&e!==null}function s(e){return typeof e=="string"&&e.trim().length>0?e:void 0}function r(e){return typeof e=="number"&&Number.isFinite(e)?e:void 0}function g(e,n,c){return e?e==="video"?!n||n==="video":n==="audio"||c===h||p(c):!0}function p(e){return u.some(n=>n.trackName===e)}export{u as M,A as a,_ as b,b as c,f as d,k as e,d as f};
