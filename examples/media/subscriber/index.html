<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MOQT Media Subscriber Test</title>
    <script type="module" crossorigin src="/moq-wasm/assets/subscriber-fcfff7e4.js"></script>
    <link rel="modulepreload" crossorigin href="/moq-wasm/assets/moqt_client_sample-098df381.js">
  </head>
  <body>
    <h1>Subscriber</h1>
    <div id="app">
      <form name="form" id="form">
        <div>
          <h2>Connection</h2>
          <label for="url">URL:</label>
          <input type="url" name="url" id="url" value="https://moqt.research.skyway.io:4433" />
          <button type="button" id="connectBtn">Connect</button>
          <button type="button" id="closeBtn">Close</button>
        </div>
        <br />
        <div>
          <h3>CLIENT_SETUP</h3>
          Max Subscribe ID: <input type="text" name="max-subscribe-id" id="" value="2" />
          <br />
          <button type="button" id="sendSetupBtn">Send</button>

          <h3>SUBSCRIBE</h3>
          <label>Track Namespace: <input type="text" name="subscribe-track-namespace" id="subscribe-track-namespace" value="video_audio" /> </label>
          <script>
            // Set default value for Track Namespace input
            ;(function () {
              function pad(n) {
                return n < 10 ? '0' + n : n
              }
              const now = new Date()
              const yyyy = now.getFullYear()
              const mm = pad(now.getMonth() + 1)
              const dd = pad(now.getDate())
              const HH = pad(now.getHours())
              const MM = pad(now.getMinutes())
              const value = `nttcom/${yyyy}${mm}${dd}/${HH}${MM}`
              const input = document.getElementById('subscribe-track-namespace')
              if (input) input.value = value
            })()
          </script>

          <button type="button" id="sendSubscribeBtn">Send</button>
          <div>
            <video id="video" muted inline controls></video>
            <audio id="audio"></audio>
          </div>
      </form>
    </div>

    
  </body>
  <style>
    p {
      display: inline;
    }
  </style>
</html>
